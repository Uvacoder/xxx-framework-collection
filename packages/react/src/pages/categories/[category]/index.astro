---
import {
	formatFieldName,
	serializeFieldName,
} from "@framework/system/src/util/string-utils"
import { visuallyHidden } from "@framework/system/src/styles/utilities.css"
import BaseLayout from '../../../layouts/base.astro'
import { searchData } from '../../../data/search-data'
import { CategoryName } from '@framework/system/src/models/all-categories'
import Search from '../../../components/search.tsx'

export function getStaticPaths() {
	return searchData.map(category => ({
		params: {
			category: serializeFieldName(category.name)
		},
		props: { category: category.name }
	}))
}

const category = Astro.props.category as CategoryName

const title = `React ${formatFieldName(category)}`
---
<head>
	<meta name="description" content={`Browse and search through relevant ${title}`}/>
</head>
<BaseLayout title={title} currentCategory={category}>
	<h1 class={visuallyHidden}>{title}</h1>
	<Search client:load preFilters={{ category: [category], tag: [], field: [] }} />
</BaseLayout>