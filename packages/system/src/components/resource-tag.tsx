import classNames from "classnames"
import React from "react"
import { resourceTagStyle } from "./resource-tag.css"

type IconType = "text" | "video" | "interactive" | "topic" | "rss"

type IconProps = React.ComponentPropsWithoutRef<"svg"> & { icon: IconType }

function Icon({ icon, ...props }: IconProps) {
	switch (icon) {
		case "interactive":
			return (
				<svg viewBox="0 0 15 18" fill="currentColor" {...props}>
					<path d="M5.7085 0.666748C5.87426 0.666748 6.03323 0.732596 6.15044 0.849806C6.26765 0.967016 6.3335 1.12599 6.3335 1.29175V3.37508C6.3335 3.54084 6.26765 3.69981 6.15044 3.81702C6.03323 3.93423 5.87426 4.00008 5.7085 4.00008C5.54274 4.00008 5.38376 3.93423 5.26655 3.81702C5.14934 3.69981 5.0835 3.54084 5.0835 3.37508V1.29175C5.0835 1.12599 5.14934 0.967016 5.26655 0.849806C5.38376 0.732596 5.54274 0.666748 5.7085 0.666748ZM1.72516 2.30841C1.84235 2.19137 2.0012 2.12563 2.16683 2.12563C2.33245 2.12563 2.49131 2.19137 2.6085 2.30841L4.06683 3.76675C4.12824 3.82397 4.17749 3.89297 4.21165 3.96963C4.24581 4.0463 4.26417 4.12906 4.26566 4.21298C4.26714 4.2969 4.2517 4.38026 4.22026 4.45808C4.18883 4.5359 4.14204 4.6066 4.08269 4.66595C4.02335 4.7253 3.95265 4.77208 3.87483 4.80352C3.797 4.83495 3.71365 4.85039 3.62973 4.84891C3.54581 4.84743 3.46305 4.82906 3.38638 4.7949C3.30971 4.76074 3.24071 4.71149 3.1835 4.65008L1.72516 3.19175C1.60812 3.07456 1.54238 2.91571 1.54238 2.75008C1.54238 2.58446 1.60812 2.4256 1.72516 2.30841ZM9.69183 2.30841C9.80887 2.4256 9.87461 2.58446 9.87461 2.75008C9.87461 2.91571 9.80887 3.07456 9.69183 3.19175L8.2335 4.65008C8.17628 4.71149 8.10728 4.76074 8.03061 4.7949C7.95394 4.82906 7.87118 4.84743 7.78726 4.84891C7.70335 4.85039 7.61999 4.83495 7.54216 4.80352C7.46434 4.77208 7.39365 4.7253 7.3343 4.66595C7.27495 4.6066 7.22816 4.5359 7.19673 4.45808C7.16529 4.38026 7.14986 4.2969 7.15134 4.21298C7.15282 4.12906 7.17119 4.0463 7.20535 3.96963C7.2395 3.89297 7.28876 3.82397 7.35016 3.76675L8.8085 2.30841C8.92568 2.19137 9.08454 2.12563 9.25016 2.12563C9.41579 2.12563 9.57464 2.19137 9.69183 2.30841ZM0.0834961 6.29175C0.0834961 6.12599 0.149344 5.96702 0.266554 5.84981C0.383765 5.7326 0.542736 5.66675 0.708496 5.66675H2.79183C2.95759 5.66675 3.11656 5.7326 3.23377 5.84981C3.35098 5.96702 3.41683 6.12599 3.41683 6.29175C3.41683 6.45751 3.35098 6.61648 3.23377 6.73369C3.11656 6.8509 2.95759 6.91675 2.79183 6.91675H0.708496C0.542736 6.91675 0.383765 6.8509 0.266554 6.73369C0.149344 6.61648 0.0834961 6.45751 0.0834961 6.29175ZM6.89766 6.07175C6.18516 5.46008 5.0835 5.96675 5.0835 6.90592V16.3009C5.0835 17.3092 6.32933 17.7859 7.00183 17.0343L9.18016 14.5984C9.41016 14.3417 9.7335 14.1901 10.0777 14.1759L13.2777 14.0476C14.2752 14.0076 14.7068 12.7651 13.9485 12.1142L6.8985 6.07175H6.89766ZM6.3335 15.9059V7.23425L12.8435 12.8142L10.0268 12.9267C9.68952 12.9404 9.35838 13.0216 9.05305 13.1656C8.74772 13.3096 8.47441 13.5135 8.24933 13.7651L6.3335 15.9059Z" />
				</svg>
			)
		case "video":
			return (
				<svg viewBox="0 0 16 14" fill="currentColor" {...props}>
					<path d="M3.20833 0.333252H12.7917C13.4834 0.333207 14.149 0.59788 14.6519 1.07298C15.1547 1.54808 15.4567 2.19758 15.4958 2.88825L15.5 3.04158V10.9583C15.5 11.65 15.2354 12.3156 14.7603 12.8184C14.2852 13.3213 13.6357 13.6233 12.945 13.6624L12.7917 13.6666H3.20833C2.51655 13.6666 1.85098 13.402 1.34814 12.9269C0.845306 12.4518 0.543332 11.8023 0.504167 11.1116L0.5 10.9583V3.04158C0.499955 2.3498 0.764628 1.68423 1.23973 1.18139C1.71482 0.678558 2.36433 0.376584 3.055 0.337419L3.20833 0.333252H12.7917H3.20833ZM12.7917 1.58325H3.20833C2.84234 1.58327 2.48974 1.72089 2.22051 1.96882C1.95128 2.21674 1.78512 2.55683 1.755 2.92159L1.75 3.04158V10.9583C1.75001 11.3242 1.88764 11.6768 2.13557 11.9461C2.38349 12.2153 2.72358 12.3815 3.08833 12.4116L3.20833 12.4166H12.7917C13.1578 12.4166 13.5105 12.2788 13.7798 12.0307C14.049 11.7826 14.2151 11.4423 14.245 11.0774L14.25 10.9583V3.04158C14.25 2.67546 14.1122 2.32274 13.8641 2.0535C13.616 1.78425 13.2757 1.61817 12.9108 1.58825L12.7917 1.58325ZM6.3775 4.98742C6.42119 4.90024 6.49407 4.83114 6.58345 4.79216C6.67283 4.75318 6.77305 4.74678 6.86667 4.77409L6.93667 4.80159L10.5883 6.62658C10.652 6.65834 10.7064 6.70585 10.7465 6.7646C10.7866 6.82336 10.811 6.89139 10.8173 6.96223C10.8237 7.03307 10.8118 7.10436 10.7828 7.1693C10.7538 7.23425 10.7086 7.29069 10.6517 7.33325L10.5883 7.37242L6.93667 9.19825C6.87884 9.22725 6.81505 9.24239 6.75036 9.24247C6.68567 9.24254 6.62184 9.22755 6.56395 9.19869C6.50605 9.16982 6.45567 9.12787 6.4168 9.07616C6.37793 9.02444 6.35164 8.96439 6.34 8.90075L6.33333 8.82492V5.17408C6.33334 5.10927 6.34846 5.04536 6.3775 4.98742Z" />
				</svg>
			)

		case "topic":
			return (
				<svg viewBox="0 0 18 18" fill="currentColor" {...props}>
					<path d="M9.00004 0.665771C13.6034 0.665771 17.335 4.39744 17.335 9.00077C17.335 13.6033 13.6034 17.3349 9.00004 17.3349C4.39671 17.3349 0.665039 13.6033 0.665039 9.00077C0.665039 4.39744 4.39671 0.665771 9.00004 0.665771ZM9.00004 1.91577C8.06321 1.90561 7.13367 2.08135 6.26522 2.43283C5.39677 2.78431 4.60665 3.30454 3.94059 3.96341C3.27453 4.62228 2.74576 5.40671 2.38489 6.27131C2.02402 7.13589 1.8382 8.06347 1.8382 9.00035C1.8382 9.93724 2.02402 10.8648 2.38489 11.7294C2.74576 12.594 3.27453 13.3784 3.94059 14.0373C4.60665 14.6962 5.39677 15.2164 6.26522 15.5679C7.13367 15.9194 8.06321 16.0951 9.00004 16.0849C10.8601 16.0564 12.6342 15.2975 13.9395 13.9721C15.2448 12.6466 15.9764 10.861 15.9764 9.00077C15.9764 7.14053 15.2448 5.35492 13.9395 4.02949C12.6342 2.70405 10.8601 1.94514 9.00004 1.9166V1.91577ZM8.99671 7.7491C9.14788 7.74891 9.294 7.80351 9.408 7.9028C9.522 8.00209 9.59615 8.13934 9.61671 8.28911L9.62254 8.3741L9.62504 12.9591C9.62499 13.1175 9.56484 13.2699 9.45673 13.3856C9.34862 13.5013 9.20062 13.5717 9.04264 13.5825C8.88465 13.5933 8.72846 13.5437 8.60562 13.4437C8.48278 13.3438 8.40246 13.201 8.38087 13.0441L8.37504 12.9599L8.37254 8.37494C8.37254 8.20918 8.43839 8.05021 8.5556 7.933C8.67281 7.81579 8.83178 7.74994 8.99754 7.74994L8.99671 7.7491ZM9.00004 4.83577C9.11153 4.83224 9.22258 4.85115 9.32662 4.89138C9.43065 4.93161 9.52555 4.99233 9.60566 5.06995C9.68577 5.14756 9.74946 5.24049 9.79296 5.3432C9.83646 5.44591 9.85888 5.55631 9.85888 5.66785C9.85888 5.7794 9.83646 5.8898 9.79296 5.99251C9.74946 6.09522 9.68577 6.18814 9.60566 6.26576C9.52555 6.34337 9.43065 6.4041 9.32662 6.44433C9.22258 6.48455 9.11153 6.50347 9.00004 6.49994C8.78391 6.4931 8.57893 6.40243 8.42847 6.24713C8.27801 6.09184 8.19388 5.88409 8.19388 5.66785C8.19388 5.45162 8.27801 5.24387 8.42847 5.08857C8.57893 4.93328 8.78391 4.84261 9.00004 4.83577Z" />
				</svg>
			)
		case "rss":
			return (
				<svg viewBox="0 0 20 20" fill="currentColor" {...props}>
					<path d="M11,16.213c-0.553,0-1-0.448-1-1v-1c0-2.206-1.794-4-4-4H5c-0.553,0-1-0.448-1-1s0.447-1,1-1h1c3.309,0,6,2.691,6,6v1     C12,15.765,11.553,16.213,11,16.213L11,16.213z" />
					<path d="M6,16.213c-1.103,0-2-0.897-2-2s0.897-2,2-2s2,0.897,2,2S7.103,16.213,6,16.213L6,16.213z" />
					<path d="M15,16.213c-0.553,0-1-0.448-1-1v-1c0-4.411-3.589-8-8-8H5c-0.553,0-1-0.448-1-1s0.447-1,1-1h1c5.514,0,10,4.486,10,10v1     C16,15.765,15.553,16.213,15,16.213L15,16.213z" />
				</svg>
			)
		default:
			return null
	}
}

export interface ResourceTagProps
	extends React.AnchorHTMLAttributes<HTMLAnchorElement> {
	icon: IconType
}

export function ResourceTag({
	children,
	className,
	href,
	icon,
	...props
}: ResourceTagProps) {
	return (
		<a
			href={href}
			className={classNames(className, resourceTagStyle)}
			{...props}
		>
			{children}
			<Icon icon={icon} width="17" height="17" />
		</a>
	)
}
